{"version":3,"sources":["webpack:///./src/Shares.vue?866d","webpack:///./src/Shares.vue?3c65","webpack:///src/Shares.vue","webpack:///./src/Shares.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","class","hidden","isLoading","_v","isEmptyList","_s","emptyLabel","_l","uid","key","attrs","uidDisplaynameMap"],"mappings":"iGAAA,I,4CCAgL,ECkBhL,CACA,cACA,YACA,O,OAAA,GAEA,KALA,WAMA,OACA,mBACA,qBACA,eAGA,UACA,YADA,WAEA,4DAEA,WAJA,WAKA,yEAGA,8BACA,iGACA,sBAEA,6BACA,qCACA,oBAIA,qBACA,QACA,8CACA,qCACA,8EASA,oB,SCtDIA,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,OAAO,CAACE,YAAY,oBAAoBC,MAAM,CAACC,QAASR,EAAIS,aAAaT,EAAIU,GAAG,KAAKN,EAAG,OAAO,CAACG,MAAM,CAACC,QAASR,EAAIW,cAAc,CAACX,EAAIU,GAAG,SAASV,EAAIY,GAAGZ,EAAIa,YAAY,UAAUb,EAAIU,GAAG,KAAKV,EAAIc,GAAId,EAAmB,iBAAE,SAASe,GAAK,OAAOX,EAAG,SAAS,CAACY,IAAID,EAAIE,MAAM,CAAC,KAAOF,EAAI,eAAef,EAAIkB,kBAAkBH,GAAK,KAAO,UAAS,KACzc,IGUpB,EACA,KACA,KACA,MAIa,UAAAhB,E","file":"privacy.8.0fd13bb6c12849a883ba.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"who-has-access\"},[_c('span',{staticClass:\"icon icon-loading\",class:{hidden: !_vm.isLoading}}),_vm._v(\" \"),_c('span',{class:{hidden: !_vm.isEmptyList}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.emptyLabel)+\"\\n\\t\")]),_vm._v(\" \"),_vm._l((_vm.uniqueShareUIDs),function(uid){return _c('Avatar',{key:uid,attrs:{\"user\":uid,\"display-name\":_vm.uidDisplaynameMap[uid],\"size\":64}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shares.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shares.vue?vue&type=script&lang=js&\"","<template>\n\t<div class=\"who-has-access\">\n\t\t<span :class=\"{hidden: !isLoading}\" class=\"icon icon-loading\" />\n\t\t<span :class=\"{hidden: !isEmptyList}\">\n\t\t\t{{ emptyLabel }}\n\t\t</span>\n\t\t<Avatar v-for=\"uid in uniqueShareUIDs\" :key=\"uid\" :user=\"uid\"\n\t\t\t:display-name=\"uidDisplaynameMap[uid]\" :size=\"64\" />\n\t</div>\n</template>\n\n<script>\nimport HttpClient from 'nextcloud-axios'\nimport Vue from 'vue'\n\nimport { generateOcsUrl } from 'nextcloud-server/dist/router'\nimport Avatar from 'nextcloud-vue/dist/Components/Avatar'\n\nexport default {\n\tname: 'Shares',\n\tcomponents: {\n\t\tAvatar\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuniqueShareUIDs: [],\n\t\t\tuidDisplaynameMap: {},\n\t\t\tisLoading: true\n\t\t}\n\t},\n\tcomputed: {\n\t\tisEmptyList() {\n\t\t\treturn this.isLoading === false && this.uniqueShareUIDs.length === 0\n\t\t},\n\t\temptyLabel() {\n\t\t\treturn t('privacy', 'You don\\'t have any shares with individual users.')\n\t\t}\n\t},\n\tmounted: function() {\n\t\tconst url = generateOcsUrl('/apps/files_sharing/api/v1/shares?format=json&shared_with_me=false')\n\t\tconst currentUserId = OC.getCurrentUser()\n\n\t\tHttpClient.get(url).then(resp => {\n\t\t\tresp.data.ocs.data.forEach((d) => {\n\t\t\t\tif (d.share_with === currentUserId) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tswitch (d.share_type) {\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.uniqueShareUIDs.indexOf(d.share_with) === -1) {\n\t\t\t\t\t\tthis.uniqueShareUIDs.push(d.share_with)\n\t\t\t\t\t\tVue.set(this.uidDisplaynameMap, d.share_with, d.share_with_displayname)\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.isLoading = false\n\t\t})\n\t}\n}\n</script>\n","import { render, staticRenderFns } from \"./Shares.vue?vue&type=template&id=736b82d8&\"\nimport script from \"./Shares.vue?vue&type=script&lang=js&\"\nexport * from \"./Shares.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}